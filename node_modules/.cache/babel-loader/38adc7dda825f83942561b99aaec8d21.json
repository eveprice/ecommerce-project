{"ast":null,"code":"var _jsxFileName = \"/home/eveprice/Documentos/React/ecommerce/client/src/pages/CartPage/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState } from \"react\";\nimport { Container, CartContainer, Info } from \"./styles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\n\nfunction CartCard(props) {\n  return /*#__PURE__*/_jsxDEV(CartContainer, {\n    children: [/*#__PURE__*/_jsxDEV(\"img\", {\n      src: props.image\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 8,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Info, {\n      children: [/*#__PURE__*/_jsxDEV(\"p\", {\n        children: props.title\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 10,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"sub\", {\n        children: [\"R$ \", props.price, \" em \", props.portion, \"x de\", \" \", (props.price / props.portion).toFixed(2)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 11,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 9,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 7,\n    columnNumber: 5\n  }, this);\n}\n\n_c = CartCard;\n\nfunction CartPage() {\n  _s();\n\n  const [cartData, setCartData] = useState({\n    data: []\n  });\n  useEffect(() => {\n    fetch(\"http://localhost:3000/cart/consultTheCart\", {\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`\n      }\n    }).then(async res => {\n      let data = await res.json();\n      data.product.forEach(item => {\n        data.cart.forEach(cartItem => {\n          if (item._id === cartItem.id) {\n            item.quantity = cartItem.quantity;\n          }\n        });\n      });\n\n      switch (res.status) {\n        case 200:\n          setCartData({\n            data: data.product\n          });\n          break;\n      }\n    });\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: cartData.data.map(p => {\n      return /*#__PURE__*/_jsxDEV(CartCard, {\n        image: p.image,\n        title: p.name,\n        price: p.price,\n        portion: p.portion\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 54,\n        columnNumber: 11\n      }, this);\n    })\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 51,\n    columnNumber: 5\n  }, this);\n}\n\n_s(CartPage, \"JQ27uyv7VvuQOC2+Jkxmd9XZC3E=\");\n\n_c2 = CartPage;\nexport default CartPage;\n\nvar _c, _c2;\n\n$RefreshReg$(_c, \"CartCard\");\n$RefreshReg$(_c2, \"CartPage\");","map":{"version":3,"sources":["/home/eveprice/Documentos/React/ecommerce/client/src/pages/CartPage/index.js"],"names":["React","useEffect","useState","Container","CartContainer","Info","CartCard","props","image","title","price","portion","toFixed","CartPage","cartData","setCartData","data","fetch","method","headers","Accept","Authorization","localStorage","getItem","then","res","json","product","forEach","item","cart","cartItem","_id","id","quantity","status","map","p","name"],"mappings":";;;AAAA,OAAOA,KAAP,IAAgBC,SAAhB,EAA2BC,QAA3B,QAA2C,OAA3C;AAEA,SAASC,SAAT,EAAoBC,aAApB,EAAmCC,IAAnC,QAA+C,UAA/C;;;AAEA,SAASC,QAAT,CAAkBC,KAAlB,EAAyB;AACvB,sBACE,QAAC,aAAD;AAAA,4BACE;AAAK,MAAA,GAAG,EAAEA,KAAK,CAACC;AAAhB;AAAA;AAAA;AAAA;AAAA,YADF,eAEE,QAAC,IAAD;AAAA,8BACE;AAAA,kBAAID,KAAK,CAACE;AAAV;AAAA;AAAA;AAAA;AAAA,cADF,eAEE;AAAA,0BACMF,KAAK,CAACG,KADZ,UACuBH,KAAK,CAACI,OAD7B,UAC0C,GAD1C,EAEG,CAACJ,KAAK,CAACG,KAAN,GAAcH,KAAK,CAACI,OAArB,EAA8BC,OAA9B,CAAsC,CAAtC,CAFH;AAAA;AAAA;AAAA;AAAA;AAAA,cAFF;AAAA;AAAA;AAAA;AAAA;AAAA,YAFF;AAAA;AAAA;AAAA;AAAA;AAAA,UADF;AAYD;;KAbQN,Q;;AAeT,SAASO,QAAT,GAAoB;AAAA;;AAClB,QAAM,CAACC,QAAD,EAAWC,WAAX,IAA0Bb,QAAQ,CAAC;AAAEc,IAAAA,IAAI,EAAE;AAAR,GAAD,CAAxC;AAEAf,EAAAA,SAAS,CAAC,MAAM;AACdgB,IAAAA,KAAK,CAAC,2CAAD,EAA8C;AACjDC,MAAAA,MAAM,EAAE,KADyC;AAEjDC,MAAAA,OAAO,EAAE;AACP,wBAAgB,kBADT;AAEPC,QAAAA,MAAM,EAAE,kBAFD;AAGPC,QAAAA,aAAa,EAAG,UAASC,YAAY,CAACC,OAAb,CAAqB,cAArB,CAAqC;AAHvD;AAFwC,KAA9C,CAAL,CAOGC,IAPH,CAOQ,MAAOC,GAAP,IAAe;AACrB,UAAIT,IAAI,GAAG,MAAMS,GAAG,CAACC,IAAJ,EAAjB;AAEAV,MAAAA,IAAI,CAACW,OAAL,CAAaC,OAAb,CAAsBC,IAAD,IAAU;AAC7Bb,QAAAA,IAAI,CAACc,IAAL,CAAUF,OAAV,CAAmBG,QAAD,IAAc;AAC9B,cAAIF,IAAI,CAACG,GAAL,KAAaD,QAAQ,CAACE,EAA1B,EAA8B;AAC5BJ,YAAAA,IAAI,CAACK,QAAL,GAAgBH,QAAQ,CAACG,QAAzB;AACD;AACF,SAJD;AAKD,OAND;;AAQA,cAAQT,GAAG,CAACU,MAAZ;AACE,aAAK,GAAL;AACEpB,UAAAA,WAAW,CAAC;AAAEC,YAAAA,IAAI,EAAEA,IAAI,CAACW;AAAb,WAAD,CAAX;AACA;AAHJ;AAKD,KAvBD;AAwBD,GAzBQ,EAyBN,EAzBM,CAAT;AA2BA,sBACE,QAAC,SAAD;AAAA,cACGb,QAAQ,CAACE,IAAT,CAAcoB,GAAd,CAAmBC,CAAD,IAAO;AACxB,0BACE,QAAC,QAAD;AACE,QAAA,KAAK,EAAEA,CAAC,CAAC7B,KADX;AAEE,QAAA,KAAK,EAAE6B,CAAC,CAACC,IAFX;AAGE,QAAA,KAAK,EAAED,CAAC,CAAC3B,KAHX;AAIE,QAAA,OAAO,EAAE2B,CAAC,CAAC1B;AAJb;AAAA;AAAA;AAAA;AAAA,cADF;AAQD,KATA;AADH;AAAA;AAAA;AAAA;AAAA,UADF;AAcD;;GA5CQE,Q;;MAAAA,Q;AA8CT,eAAeA,QAAf","sourcesContent":["import React, { useEffect, useState } from \"react\";\n\nimport { Container, CartContainer, Info } from \"./styles\";\n\nfunction CartCard(props) {\n  return (\n    <CartContainer>\n      <img src={props.image}></img>\n      <Info>\n        <p>{props.title}</p>\n        <sub>\n          R$ {props.price} em {props.portion}x de{\" \"}\n          {(props.price / props.portion).toFixed(2)}\n        </sub>\n      </Info>\n    </CartContainer>\n  );\n}\n\nfunction CartPage() {\n  const [cartData, setCartData] = useState({ data: [] });\n\n  useEffect(() => {\n    fetch(\"http://localhost:3000/cart/consultTheCart\", {\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\n      },\n    }).then(async (res) => {\n      let data = await res.json();\n\n      data.product.forEach((item) => {\n        data.cart.forEach((cartItem) => {\n          if (item._id === cartItem.id) {\n            item.quantity = cartItem.quantity;\n          }\n        });\n      });\n\n      switch (res.status) {\n        case 200:\n          setCartData({ data: data.product });\n          break;\n      }\n    });\n  }, []);\n\n  return (\n    <Container>\n      {cartData.data.map((p) => {\n        return (\n          <CartCard\n            image={p.image}\n            title={p.name}\n            price={p.price}\n            portion={p.portion}\n          />\n        );\n      })}\n    </Container>\n  );\n}\n\nexport default CartPage;\n"]},"metadata":{},"sourceType":"module"}