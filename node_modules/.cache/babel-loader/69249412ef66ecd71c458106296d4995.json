{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\v. price\\\\Documents\\\\GitHub\\\\ecommerce-project\\\\client\\\\src\\\\pages\\\\DetailsPage\\\\index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport { BsGeoAlt, RiTruckLine } from \"../../styles/Icons\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport { Slide } from \"react-slideshow-image\";\nimport \"react-slideshow-image/dist/styles.css\";\nimport cep from \"cep-promise\";\nimport ProductCard from \"../../components/ProductCard\";\nimport { Container, PictureWrapper, ProductInfo, SellerInfoWrapper, SellerInfo, Picture, DeliveryInfo, BuyNowBtn, AddToCartBtn, Delivery, Description, BuyBtns, SimilarProducts, ProductsList, MobilePicture } from \"./styles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction DetailsPage() {\n  _s();\n\n  const [productData, setProductData] = useState({});\n  const [similarProducts, setSimilarProducts] = useState({\n    data: []\n  });\n  const [logged, setLogged] = useState(false);\n  const [userData, setUserData] = useState({});\n  const [isDesktop, setDesktop] = useState(window.innerWidth > 1000);\n  const [locationInfo, setLocationInfo] = useState({});\n  const [buyQuantity, setBuyQuantity] = useState(1);\n  const {\n    productId\n  } = useParams();\n\n  const updateMedia = () => {\n    setDesktop(window.innerWidth > 1000);\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", updateMedia);\n    return () => window.removeEventListener(\"resize\", updateMedia);\n  });\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP_SERVER_URL}/product/consult?id=${productId}`, {\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      }\n    }).then(async res => {\n      let data = await res.json();\n\n      switch (res.status) {\n        case 404:\n          alert(\"Produto nÃ£o encontrado\");\n          break;\n\n        case 200:\n          setProductData(data);\n          break;\n      }\n    });\n  }, []);\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP_SERVER_URL}/auth/consult`, {\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`\n      }\n    }).then(async res => {\n      let data = await res.json();\n\n      switch (res.status) {\n        case 200:\n          setLogged(!logged);\n          setUserData(data);\n          break;\n      }\n    });\n  }, []);\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP_SERVER_URL}/product/consult_similar_products?category=${productData.category}&id=${productId}`, {\n      method: \"get\"\n    }).then(async res => {\n      let data = await res.json();\n\n      switch (res.status) {\n        case 200:\n          setSimilarProducts({\n            data: data\n          });\n          break;\n      }\n    });\n  }, [productData]);\n\n  function addToCart() {\n    if (logged) {\n      fetch(`${process.env.REACT_APP_SERVER_URL}/cart/addToCart`, {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`\n        },\n        body: JSON.stringify({\n          productId: productId,\n          quantity: buyQuantity\n        })\n      }).then(async res => {\n        switch (res.status) {\n          case 200:\n            alert(\"Item adicionado ao carrinho!\", res);\n            break;\n        }\n      });\n    } else {\n      alert(\"Logue para usar o carrinho!\");\n    }\n  }\n\n  useEffect(() => {\n    cep(userData.cep).then(res => {\n      setLocationInfo(res);\n    });\n  }, [userData]);\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(PictureWrapper, {\n      children: productData.image != undefined ? /*#__PURE__*/_jsxDEV(Slide, {\n        children: productData.image.map((t, index) => /*#__PURE__*/_jsxDEV(Picture, {\n          hoverDelayInMs: 0,\n          smallImage: {\n            src: `${process.env.REACT_APP_SERVER_URL}/files/${t}`,\n            width: 480,\n            height: 480\n          },\n          largeImage: {\n            src: `${process.env.REACT_APP_SERVER_URL}/files/${t}`,\n            width: 1200,\n            height: 1800\n          }\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 143,\n          columnNumber: 17\n        }, this))\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 141,\n        columnNumber: 11\n      }, this) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 139,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProductInfo, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: productData.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 165,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Rating, {\n        name: \"half-rating\",\n        defaultValue: productData,\n        size: \"medium\",\n        precision: 0.5,\n        readOnly: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 166,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"$ \", productData.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 173,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: `+ ${productData.portion}x $${(productData.price / productData.portion).toFixed(2)}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 174,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 177,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Brand: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 180,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: productData.brand\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 181,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 179,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Category: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 184,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: productData.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 185,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 183,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Tags: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 188,\n            columnNumber: 13\n          }, this), productData.tags != undefined ? productData.tags.map((t, index) => {\n            return /*#__PURE__*/_jsxDEV(\"span\", {\n              children: (index ? \", \" : \"\") + t\n            }, `${index}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 191,\n              columnNumber: 24\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 187,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 178,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 164,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SellerInfoWrapper, {\n      children: /*#__PURE__*/_jsxDEV(SellerInfo, {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [\"$ \", productData.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 203,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: productData.deliveryPrice > 0 ? /*#__PURE__*/_jsxDEV(DeliveryInfo, {\n              children: [/*#__PURE__*/_jsxDEV(RiTruckLine, {\n                size: 25\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 208,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Shipping price: $ \", productData.deliveryPrice]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 209,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 207,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(DeliveryInfo, {\n              children: [/*#__PURE__*/_jsxDEV(RiTruckLine, {\n                size: 25,\n                fill: \"#d7263d\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 213,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Shipping \", /*#__PURE__*/_jsxDEV(\"a\", {\n                  children: \"FREE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 215,\n                  columnNumber: 30\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 214,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(DeliveryInfo, {\n              children: [/*#__PURE__*/_jsxDEV(BsGeoAlt, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 222,\n                columnNumber: 17\n              }, this), logged ? /*#__PURE__*/_jsxDEV(Delivery, {\n                children: userData.cep ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Deliver to \", userData.name, \",\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 227,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: locationInfo.city\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 229,\n                      columnNumber: 27\n                    }, this), \" \", locationInfo.cep]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 228,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"You need to register an address!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 233,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 224,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/login\",\n                  children: \"Login or register!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 238,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 237,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 221,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 220,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: productData.countInStock > 0 ? /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"In Stock!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 245,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Out of Stock.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 247,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 243,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: productData.countInStock > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Quantity:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 253,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                onChange: e => setBuyQuantity(parseInt(e.target.value)),\n                className: \"quantity\",\n                children: Array.from(Array(productData.countInStock).keys()).map(i => {\n                  return i > 0 && i < 6 && /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: i,\n                    children: i\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 260,\n                    columnNumber: 50\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 254,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"sub\", {\n                children: [\"(\", productData.countInStock, \" in stock!)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 264,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 250,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(BuyBtns, {\n              children: [/*#__PURE__*/_jsxDEV(BuyNowBtn, {\n                type: \"button\",\n                value: \"Buy Now\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 272,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(AddToCartBtn, {\n                type: \"button\",\n                value: \"Add to Cart\",\n                onClick: () => addToCart()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 273,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 271,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 270,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 201,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 200,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 199,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Description, {\n      children: productData.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 283,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SimilarProducts, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Similar products you may like:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 285,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProductsList, {\n        children: similarProducts.data.slice(0, 4).map(p => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(ProductCard, {\n              redirect: () => window.location.href = p._id,\n              imgsrc: `${process.env.REACT_APP_SERVER_URL}/files/${p.image}`,\n              title: p.name,\n              brand: p.brand,\n              price: `R$ ${p.price}`,\n              portion: `${p.portion}x R$${(p.price / p.portion).toFixed(2)} sem juros`\n            }, p._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 290,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 289,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 286,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 284,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 138,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DetailsPage, \"WbyTEFNTGvwt1cnlITJh+RVqMlM=\", false, function () {\n  return [useParams];\n});\n\n_c = DetailsPage;\nexport default DetailsPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"DetailsPage\");","map":{"version":3,"sources":["C:/Users/v. price/Documents/GitHub/ecommerce-project/client/src/pages/DetailsPage/index.js"],"names":["React","useEffect","useState","useRef","Link","useNavigate","useParams","BsGeoAlt","RiTruckLine","Rating","Slide","cep","ProductCard","Container","PictureWrapper","ProductInfo","SellerInfoWrapper","SellerInfo","Picture","DeliveryInfo","BuyNowBtn","AddToCartBtn","Delivery","Description","BuyBtns","SimilarProducts","ProductsList","MobilePicture","DetailsPage","productData","setProductData","similarProducts","setSimilarProducts","data","logged","setLogged","userData","setUserData","isDesktop","setDesktop","window","innerWidth","locationInfo","setLocationInfo","buyQuantity","setBuyQuantity","productId","updateMedia","addEventListener","removeEventListener","fetch","process","env","REACT_APP_SERVER_URL","method","headers","Accept","then","res","json","status","alert","Authorization","localStorage","getItem","category","addToCart","body","JSON","stringify","quantity","image","undefined","map","t","index","smallImage","src","width","height","largeImage","name","price","portion","toFixed","brand","tags","deliveryPrice","city","countInStock","e","parseInt","target","value","Array","from","keys","i","description","slice","p","location","href","_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\r\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\r\nimport { BsGeoAlt, RiTruckLine } from \"../../styles/Icons\";\r\nimport Rating from \"@material-ui/lab/Rating\";\r\nimport { Slide } from \"react-slideshow-image\";\r\nimport \"react-slideshow-image/dist/styles.css\";\r\nimport cep from \"cep-promise\";\r\nimport ProductCard from \"../../components/ProductCard\";\r\nimport {\r\n  Container,\r\n  PictureWrapper,\r\n  ProductInfo,\r\n  SellerInfoWrapper,\r\n  SellerInfo,\r\n  Picture,\r\n  DeliveryInfo,\r\n  BuyNowBtn,\r\n  AddToCartBtn,\r\n  Delivery,\r\n  Description,\r\n  BuyBtns,\r\n  SimilarProducts,\r\n  ProductsList,\r\n  MobilePicture,\r\n} from \"./styles\";\r\n\r\nfunction DetailsPage() {\r\n  const [productData, setProductData] = useState({});\r\n  const [similarProducts, setSimilarProducts] = useState({ data: [] });\r\n  const [logged, setLogged] = useState(false);\r\n  const [userData, setUserData] = useState({});\r\n  const [isDesktop, setDesktop] = useState(window.innerWidth > 1000);\r\n  const [locationInfo, setLocationInfo] = useState({});\r\n  const [buyQuantity, setBuyQuantity] = useState(1);\r\n  const { productId } = useParams();\r\n\r\n  const updateMedia = () => {\r\n    setDesktop(window.innerWidth > 1000);\r\n  };\r\n\r\n  useEffect(() => {\r\n    window.addEventListener(\"resize\", updateMedia);\r\n    return () => window.removeEventListener(\"resize\", updateMedia);\r\n  });\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      `${process.env.REACT_APP_SERVER_URL}/product/consult?id=${productId}`,\r\n      {\r\n        method: \"get\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Accept: \"application/json\",\r\n        },\r\n      }\r\n    ).then(async (res) => {\r\n      let data = await res.json();\r\n\r\n      switch (res.status) {\r\n        case 404:\r\n          alert(\"Produto nÃ£o encontrado\");\r\n          break;\r\n        case 200:\r\n          setProductData(data);\r\n          break;\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetch(`${process.env.REACT_APP_SERVER_URL}/auth/consult`, {\r\n      method: \"get\",\r\n      headers: {\r\n        \"Content-Type\": \"application/json\",\r\n        Accept: \"application/json\",\r\n        Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\r\n      },\r\n    }).then(async (res) => {\r\n      let data = await res.json();\r\n\r\n      switch (res.status) {\r\n        case 200:\r\n          setLogged(!logged);\r\n          setUserData(data);\r\n          break;\r\n      }\r\n    });\r\n  }, []);\r\n\r\n  useEffect(() => {\r\n    fetch(\r\n      `${process.env.REACT_APP_SERVER_URL}/product/consult_similar_products?category=${productData.category}&id=${productId}`,\r\n      {\r\n        method: \"get\",\r\n      }\r\n    ).then(async (res) => {\r\n      let data = await res.json();\r\n\r\n      switch (res.status) {\r\n        case 200:\r\n          setSimilarProducts({ data: data });\r\n          break;\r\n      }\r\n    });\r\n  }, [productData]);\r\n\r\n  function addToCart() {\r\n    if (logged) {\r\n      fetch(`${process.env.REACT_APP_SERVER_URL}/cart/addToCart`, {\r\n        method: \"post\",\r\n        headers: {\r\n          \"Content-Type\": \"application/json\",\r\n          Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\r\n        },\r\n        body: JSON.stringify({\r\n          productId: productId,\r\n          quantity: buyQuantity,\r\n        }),\r\n      }).then(async (res) => {\r\n        switch (res.status) {\r\n          case 200:\r\n            alert(\"Item adicionado ao carrinho!\", res);\r\n            break;\r\n        }\r\n      });\r\n    } else {\r\n      alert(\"Logue para usar o carrinho!\");\r\n    }\r\n  }\r\n\r\n  useEffect(() => {\r\n    cep(userData.cep).then((res) => {\r\n      setLocationInfo(res);\r\n    });\r\n  }, [userData]);\r\n\r\n  return (\r\n    <Container>\r\n      <PictureWrapper>\r\n        {productData.image != undefined ? (\r\n          <Slide>\r\n              {productData.image.map((t, index) => (\r\n                <Picture\r\n                  hoverDelayInMs={0}\r\n                  {...{\r\n                    smallImage: {\r\n                      src: `${process.env.REACT_APP_SERVER_URL}/files/${t}`,\r\n                      width: 480,\r\n                      height: 480,\r\n                    },\r\n                    largeImage: {\r\n                      src: `${process.env.REACT_APP_SERVER_URL}/files/${t}`,\r\n                      width: 1200,\r\n                      height: 1800,\r\n                    },\r\n                  }}\r\n                />\r\n              ))}\r\n          </Slide>\r\n        ) : (\r\n          <></>\r\n        )}\r\n      </PictureWrapper>\r\n      <ProductInfo>\r\n        <h2>{productData.name}</h2>\r\n        <Rating\r\n          name=\"half-rating\"\r\n          defaultValue={productData}\r\n          size=\"medium\"\r\n          precision={0.5}\r\n          readOnly\r\n        />\r\n        <h1>$ {productData.price}</h1>\r\n        <h4>{`+ ${productData.portion}x $${(\r\n          productData.price / productData.portion\r\n        ).toFixed(2)}`}</h4>\r\n        <hr />\r\n        <ul>\r\n          <li>\r\n            <strong>Brand: </strong>\r\n            <span>{productData.brand}</span>\r\n          </li>\r\n          <li>\r\n            <strong>Category: </strong>\r\n            <span>{productData.category}</span>\r\n          </li>\r\n          <li>\r\n            <strong>Tags: </strong>\r\n            {productData.tags != undefined ? (\r\n              productData.tags.map((t, index) => {\r\n                return <span key={`${index}`}>{(index ? \", \" : \"\") + t}</span>;\r\n              })\r\n            ) : (\r\n              <></>\r\n            )}\r\n          </li>\r\n        </ul>\r\n      </ProductInfo>\r\n      <SellerInfoWrapper>\r\n        <SellerInfo>\r\n          <ul>\r\n            <li>\r\n              <h2>$ {productData.price}</h2>\r\n            </li>\r\n            <li>\r\n              {productData.deliveryPrice > 0 ? (\r\n                <DeliveryInfo>\r\n                  <RiTruckLine size={25} />\r\n                  <p>Shipping price: $ {productData.deliveryPrice}</p>\r\n                </DeliveryInfo>\r\n              ) : (\r\n                <DeliveryInfo>\r\n                  <RiTruckLine size={25} fill=\"#d7263d\" />\r\n                  <p>\r\n                    Shipping <a>FREE</a>\r\n                  </p>\r\n                </DeliveryInfo>\r\n              )}\r\n            </li>\r\n            <li>\r\n              <DeliveryInfo>\r\n                <BsGeoAlt size={20} />\r\n                {logged ? (\r\n                  <Delivery>\r\n                    {userData.cep ? (\r\n                      <>\r\n                        <p>Deliver to {userData.name},</p>\r\n                        <p>\r\n                          <b>{locationInfo.city}</b> {locationInfo.cep}\r\n                        </p>\r\n                      </>\r\n                    ) : (\r\n                      <p>You need to register an address!</p>\r\n                    )}\r\n                  </Delivery>\r\n                ) : (\r\n                  <p>\r\n                    <Link to=\"/login\">Login or register!</Link>\r\n                  </p>\r\n                )}\r\n              </DeliveryInfo>\r\n            </li>\r\n            <li>\r\n              {productData.countInStock > 0 ? (\r\n                <h2>In Stock!</h2>\r\n              ) : (\r\n                <h2>Out of Stock.</h2>\r\n              )}\r\n            </li>\r\n            <li>\r\n              {productData.countInStock > 0 ? (\r\n                <>\r\n                  <strong>Quantity:</strong>\r\n                  <select\r\n                    onChange={(e) => setBuyQuantity(parseInt(e.target.value))}\r\n                    className=\"quantity\"\r\n                  >\r\n                    {Array.from(Array(productData.countInStock).keys()).map(\r\n                      (i) => {\r\n                        return i > 0 && i < 6 && <option value={i}>{i}</option>;\r\n                      }\r\n                    )}\r\n                  </select>\r\n                  <sub>({productData.countInStock} in stock!)</sub>\r\n                </>\r\n              ) : (\r\n                <></>\r\n              )}\r\n            </li>\r\n            <li>\r\n              <BuyBtns>\r\n                <BuyNowBtn type=\"button\" value=\"Buy Now\" />\r\n                <AddToCartBtn\r\n                  type=\"button\"\r\n                  value=\"Add to Cart\"\r\n                  onClick={() => addToCart()}\r\n                />\r\n              </BuyBtns>\r\n            </li>\r\n          </ul>\r\n        </SellerInfo>\r\n      </SellerInfoWrapper>\r\n      <Description>{productData.description}</Description>\r\n      <SimilarProducts>\r\n        <h3>Similar products you may like:</h3>\r\n        <ProductsList>\r\n          {similarProducts.data.slice(0, 4).map((p) => {\r\n            return (\r\n              <li>\r\n                <ProductCard\r\n                  key={p._id}\r\n                  redirect={() => (window.location.href = p._id)}\r\n                  imgsrc={`${process.env.REACT_APP_SERVER_URL}/files/${p.image}`}\r\n                  title={p.name}\r\n                  brand={p.brand}\r\n                  price={`R$ ${p.price}`}\r\n                  portion={`${p.portion}x R$${(p.price / p.portion).toFixed(\r\n                    2\r\n                  )} sem juros`}\r\n                />\r\n              </li>\r\n            );\r\n          })}\r\n        </ProductsList>\r\n      </SimilarProducts>\r\n    </Container>\r\n  );\r\n}\r\n\r\nexport default DetailsPage;\r\n"]},"metadata":{},"sourceType":"module"}