{"ast":null,"code":"var _jsxFileName = \"/home/twilightmoon/Documents/Projects/ecommerce-project/src/pages/DetailsPage/index.js\",\n    _s = $RefreshSig$();\n\nimport React, { useEffect, useState, useRef } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport { BsGeoAlt, RiTruckLine } from \"../../styles/Icons\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport ImageGallery from \"react-image-gallery\";\nimport cep from \"cep-promise\";\nimport \"./styles.css\";\nimport ProductCard from \"../../components/ProductCard\";\nimport { Container, PictureWrapper, ProductInfo, SellerInfoWrapper, SellerInfo, Picture, DeliveryInfo, BuyNowBtn, AddToCartBtn, Delivery, Description, BuyBtns, SimilarProducts, CustomHr, ProductsList, MobilePicture } from \"./styles\";\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nimport { Fragment as _Fragment } from \"react/jsx-dev-runtime\";\n\nfunction DetailsPage() {\n  _s();\n\n  const [productData, setProductData] = useState({});\n  const [similarProducts, setSimilarProducts] = useState({\n    data: []\n  });\n  const [logged, setLogged] = useState(false);\n  const [userData, setUserData] = useState({});\n  const [currentImageUrl, setCurrentImage] = useState(\"\");\n  const [isDesktop, setDesktop] = useState(window.innerWidth > 1000);\n  const [locationInfo, setLocationInfo] = useState({});\n  const [buyQuantity, setBuyQuantity] = useState(1);\n  const {\n    productId\n  } = useParams();\n\n  const updateMedia = () => {\n    setDesktop(window.innerWidth > 500);\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", updateMedia);\n    return () => window.removeEventListener(\"resize\", updateMedia);\n  });\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP_SERVER_URL}/product/consult?id=${productId}`, {\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\"\n      }\n    }).then(async res => {\n      let data = await res.json();\n\n      switch (res.status) {\n        case 404:\n          alert(\"Produto nÃ£o encontrado\");\n          break;\n\n        case 200:\n          setProductData(data);\n          setCurrentImage(data.image[0].original);\n          break;\n      }\n    });\n  }, []);\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP_SERVER_URL}/auth/consult`, {\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`\n      }\n    }).then(async res => {\n      let data = await res.json();\n\n      switch (res.status) {\n        case 200:\n          setLogged(!logged);\n          setUserData(data);\n          break;\n      }\n    });\n  }, []);\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP_SERVER_URL}/product/consult_similar_products?category=${productData.category}&id=${productId}`, {\n      method: \"get\"\n    }).then(async res => {\n      let data = await res.json();\n\n      switch (res.status) {\n        case 200:\n          setSimilarProducts({\n            data: data\n          });\n          break;\n      }\n    });\n  }, [productData]);\n\n  function addToCart() {\n    if (logged) {\n      fetch(`${process.env.REACT_APP_SERVER_URL}/cart/addToCart`, {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`\n        },\n        body: JSON.stringify({\n          productId: productId,\n          quantity: buyQuantity\n        })\n      }).then(async res => {\n        switch (res.status) {\n          case 200:\n            alert(\"Item adicionado ao carrinho!\", res);\n            break;\n        }\n      });\n    } else {\n      alert(\"Logue para usar o carrinho!\");\n    }\n  }\n\n  useEffect(() => {\n    cep(userData.cep).then(res => {\n      setLocationInfo(res);\n    });\n  }, [userData]);\n\n  const setView = (event, index) => {\n    setCurrentImage(productData.image[index].original);\n  };\n\n  return /*#__PURE__*/_jsxDEV(Container, {\n    children: [/*#__PURE__*/_jsxDEV(PictureWrapper, {\n      children: productData.image != undefined ? /*#__PURE__*/_jsxDEV(_Fragment, {\n        children: isDesktop ? /*#__PURE__*/_jsxDEV(_Fragment, {\n          children: [\" \", /*#__PURE__*/_jsxDEV(Picture, {\n            enlargedImageContainerClassName: \"large-image\",\n            hoverDelayInMs: 0,\n            smallImage: {\n              src: currentImageUrl,\n              width: 480,\n              height: 480\n            },\n            largeImage: {\n              src: currentImageUrl,\n              width: 1200,\n              height: 1800\n            }\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 152,\n            columnNumber: 17\n          }, this), /*#__PURE__*/_jsxDEV(ImageGallery, {\n            items: productData.image,\n            thumbnailClass: \"thumb\",\n            onThumbnailClick: setView,\n            showFullscreenButton: false,\n            showPlayButton: false,\n            showNav: false\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 168,\n            columnNumber: 17\n          }, this)]\n        }, void 0, true) : /*#__PURE__*/_jsxDEV(MobilePicture, {\n          src: productData.image[0].original\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 178,\n          columnNumber: 15\n        }, this)\n      }, void 0, false) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 146,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ProductInfo, {\n      children: [/*#__PURE__*/_jsxDEV(\"h2\", {\n        children: productData.name\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 186,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(Rating, {\n        name: \"half-rating\",\n        defaultValue: 4.7,\n        size: \"medium\",\n        precision: 0.5,\n        readOnly: true\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 187,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h1\", {\n        children: [\"$ \", productData.price]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 194,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"h4\", {\n        children: `+ ${productData.portion}x $${(productData.price / productData.portion).toFixed(2)}`\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 195,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"hr\", {}, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 198,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(\"ul\", {\n        children: [/*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Brand: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 201,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: productData.brand\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 202,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 200,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Category: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 205,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"span\", {\n            children: productData.category\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 206,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 204,\n          columnNumber: 11\n        }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n          children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n            children: \"Tags: \"\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 209,\n            columnNumber: 13\n          }, this), productData.tags != undefined ? productData.tags.map((t, index) => {\n            return /*#__PURE__*/_jsxDEV(\"span\", {\n              children: (index ? \", \" : \"\") + t\n            }, `${index}`, false, {\n              fileName: _jsxFileName,\n              lineNumber: 212,\n              columnNumber: 24\n            }, this);\n          }) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 208,\n          columnNumber: 11\n        }, this)]\n      }, void 0, true, {\n        fileName: _jsxFileName,\n        lineNumber: 199,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SellerInfoWrapper, {\n      children: /*#__PURE__*/_jsxDEV(SellerInfo, {\n        children: /*#__PURE__*/_jsxDEV(\"ul\", {\n          children: [/*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: [\"$ \", productData.price]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 224,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 223,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: productData.deliveryPrice > 0 ? /*#__PURE__*/_jsxDEV(DeliveryInfo, {\n              children: [/*#__PURE__*/_jsxDEV(RiTruckLine, {\n                size: 25\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 229,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Shipping price: $ \", productData.deliveryPrice]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 230,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 228,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(DeliveryInfo, {\n              children: [/*#__PURE__*/_jsxDEV(RiTruckLine, {\n                size: 25,\n                fill: \"var(--accent-color)\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 234,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                children: [\"Shipping \", /*#__PURE__*/_jsxDEV(\"a\", {\n                  children: \"FREE\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 236,\n                  columnNumber: 30\n                }, this)]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 235,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 233,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 226,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(DeliveryInfo, {\n              children: [/*#__PURE__*/_jsxDEV(BsGeoAlt, {\n                size: 20\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 243,\n                columnNumber: 17\n              }, this), logged ? /*#__PURE__*/_jsxDEV(Delivery, {\n                children: userData.cep ? /*#__PURE__*/_jsxDEV(_Fragment, {\n                  children: [/*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [\"Deliver to \", userData.name, \",\"]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 248,\n                    columnNumber: 25\n                  }, this), /*#__PURE__*/_jsxDEV(\"p\", {\n                    children: [/*#__PURE__*/_jsxDEV(\"b\", {\n                      children: locationInfo.city\n                    }, void 0, false, {\n                      fileName: _jsxFileName,\n                      lineNumber: 250,\n                      columnNumber: 27\n                    }, this), \" \", locationInfo.cep]\n                  }, void 0, true, {\n                    fileName: _jsxFileName,\n                    lineNumber: 249,\n                    columnNumber: 25\n                  }, this)]\n                }, void 0, true) : /*#__PURE__*/_jsxDEV(\"p\", {\n                  children: \"You need to register an address!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 254,\n                  columnNumber: 23\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 245,\n                columnNumber: 19\n              }, this) : /*#__PURE__*/_jsxDEV(\"p\", {\n                children: /*#__PURE__*/_jsxDEV(Link, {\n                  to: \"/login\",\n                  children: \"Login or register!\"\n                }, void 0, false, {\n                  fileName: _jsxFileName,\n                  lineNumber: 259,\n                  columnNumber: 21\n                }, this)\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 258,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 242,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 241,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: productData.countInStock > 0 ? /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"In Stock!\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 266,\n              columnNumber: 17\n            }, this) : /*#__PURE__*/_jsxDEV(\"h2\", {\n              children: \"Out of Stock.\"\n            }, void 0, false, {\n              fileName: _jsxFileName,\n              lineNumber: 268,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 264,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: productData.countInStock > 0 ? /*#__PURE__*/_jsxDEV(_Fragment, {\n              children: [/*#__PURE__*/_jsxDEV(\"strong\", {\n                children: \"Quantity:\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 274,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"select\", {\n                onChange: e => setBuyQuantity(parseInt(e.target.value)),\n                className: \"quantity\",\n                children: Array.from(Array(productData.countInStock).keys()).map(i => {\n                  return i > 0 && i < 6 && /*#__PURE__*/_jsxDEV(\"option\", {\n                    value: i,\n                    children: i\n                  }, void 0, false, {\n                    fileName: _jsxFileName,\n                    lineNumber: 281,\n                    columnNumber: 50\n                  }, this);\n                })\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 275,\n                columnNumber: 19\n              }, this), /*#__PURE__*/_jsxDEV(\"sub\", {\n                children: [\"(\", productData.countInStock, \" in stock!)\"]\n              }, void 0, true, {\n                fileName: _jsxFileName,\n                lineNumber: 285,\n                columnNumber: 19\n              }, this)]\n            }, void 0, true) : /*#__PURE__*/_jsxDEV(_Fragment, {}, void 0, false)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 271,\n            columnNumber: 13\n          }, this), /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(BuyBtns, {\n              children: [/*#__PURE__*/_jsxDEV(BuyNowBtn, {\n                type: \"button\",\n                value: \"Buy Now\"\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 293,\n                columnNumber: 17\n              }, this), /*#__PURE__*/_jsxDEV(AddToCartBtn, {\n                type: \"button\",\n                value: \"Add to Cart\",\n                onClick: () => addToCart()\n              }, void 0, false, {\n                fileName: _jsxFileName,\n                lineNumber: 294,\n                columnNumber: 17\n              }, this)]\n            }, void 0, true, {\n              fileName: _jsxFileName,\n              lineNumber: 292,\n              columnNumber: 15\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 291,\n            columnNumber: 13\n          }, this)]\n        }, void 0, true, {\n          fileName: _jsxFileName,\n          lineNumber: 222,\n          columnNumber: 11\n        }, this)\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 221,\n        columnNumber: 9\n      }, this)\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 220,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Description, {\n      children: productData.description\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 304,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(SimilarProducts, {\n      children: [/*#__PURE__*/_jsxDEV(\"h3\", {\n        children: \"Similar products you may like:\"\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 306,\n        columnNumber: 9\n      }, this), /*#__PURE__*/_jsxDEV(ProductsList, {\n        children: similarProducts.data.slice(0, 4).map(p => {\n          return /*#__PURE__*/_jsxDEV(\"li\", {\n            children: /*#__PURE__*/_jsxDEV(ProductCard, {\n              redirect: () => window.location.href = p._id,\n              imgsrc: p.image[0].original,\n              title: p.name,\n              brand: p.brand,\n              price: `R$ ${p.price}`,\n              portion: `${p.portion}x R$${(p.price / p.portion).toFixed(2)} sem juros`\n            }, p._id, false, {\n              fileName: _jsxFileName,\n              lineNumber: 311,\n              columnNumber: 17\n            }, this)\n          }, void 0, false, {\n            fileName: _jsxFileName,\n            lineNumber: 310,\n            columnNumber: 15\n          }, this);\n        })\n      }, void 0, false, {\n        fileName: _jsxFileName,\n        lineNumber: 307,\n        columnNumber: 9\n      }, this)]\n    }, void 0, true, {\n      fileName: _jsxFileName,\n      lineNumber: 305,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 145,\n    columnNumber: 5\n  }, this);\n}\n\n_s(DetailsPage, \"NohLgxaV0NatttpCamwnRdNnzdU=\", false, function () {\n  return [useParams];\n});\n\n_c = DetailsPage;\nexport default DetailsPage;\n\nvar _c;\n\n$RefreshReg$(_c, \"DetailsPage\");","map":{"version":3,"sources":["/home/twilightmoon/Documents/Projects/ecommerce-project/src/pages/DetailsPage/index.js"],"names":["React","useEffect","useState","useRef","Link","useNavigate","useParams","BsGeoAlt","RiTruckLine","Rating","ImageGallery","cep","ProductCard","Container","PictureWrapper","ProductInfo","SellerInfoWrapper","SellerInfo","Picture","DeliveryInfo","BuyNowBtn","AddToCartBtn","Delivery","Description","BuyBtns","SimilarProducts","CustomHr","ProductsList","MobilePicture","DetailsPage","productData","setProductData","similarProducts","setSimilarProducts","data","logged","setLogged","userData","setUserData","currentImageUrl","setCurrentImage","isDesktop","setDesktop","window","innerWidth","locationInfo","setLocationInfo","buyQuantity","setBuyQuantity","productId","updateMedia","addEventListener","removeEventListener","fetch","process","env","REACT_APP_SERVER_URL","method","headers","Accept","then","res","json","status","alert","image","original","Authorization","localStorage","getItem","category","addToCart","body","JSON","stringify","quantity","setView","event","index","undefined","smallImage","src","width","height","largeImage","name","price","portion","toFixed","brand","tags","map","t","deliveryPrice","city","countInStock","e","parseInt","target","value","Array","from","keys","i","description","slice","p","location","href","_id"],"mappings":"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","sourcesContent":["import React, { useEffect, useState, useRef } from \"react\";\nimport { Link, useNavigate, useParams } from \"react-router-dom\";\nimport { BsGeoAlt, RiTruckLine } from \"../../styles/Icons\";\nimport Rating from \"@material-ui/lab/Rating\";\nimport ImageGallery from \"react-image-gallery\";\nimport cep from \"cep-promise\";\nimport \"./styles.css\";\nimport ProductCard from \"../../components/ProductCard\";\nimport {\n  Container,\n  PictureWrapper,\n  ProductInfo,\n  SellerInfoWrapper,\n  SellerInfo,\n  Picture,\n  DeliveryInfo,\n  BuyNowBtn,\n  AddToCartBtn,\n  Delivery,\n  Description,\n  BuyBtns,\n  SimilarProducts,\n  CustomHr,\n  ProductsList,\n  MobilePicture,\n} from \"./styles\";\n\nfunction DetailsPage() {\n  const [productData, setProductData] = useState({});\n  const [similarProducts, setSimilarProducts] = useState({ data: [] });\n  const [logged, setLogged] = useState(false);\n  const [userData, setUserData] = useState({});\n  const [currentImageUrl, setCurrentImage] = useState(\"\");\n  const [isDesktop, setDesktop] = useState(window.innerWidth > 1000);\n  const [locationInfo, setLocationInfo] = useState({});\n  const [buyQuantity, setBuyQuantity] = useState(1);\n  const { productId } = useParams();\n\n  const updateMedia = () => {\n    setDesktop(window.innerWidth > 500);\n  };\n\n  useEffect(() => {\n    window.addEventListener(\"resize\", updateMedia);\n    return () => window.removeEventListener(\"resize\", updateMedia);\n  });\n\n  useEffect(() => {\n    fetch(\n      `${process.env.REACT_APP_SERVER_URL}/product/consult?id=${productId}`,\n      {\n        method: \"get\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Accept: \"application/json\",\n        },\n      }\n    ).then(async (res) => {\n      let data = await res.json();\n\n      switch (res.status) {\n        case 404:\n          alert(\"Produto nÃ£o encontrado\");\n          break;\n        case 200:\n          setProductData(data);\n          setCurrentImage(data.image[0].original);\n          break;\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    fetch(`${process.env.REACT_APP_SERVER_URL}/auth/consult`, {\n      method: \"get\",\n      headers: {\n        \"Content-Type\": \"application/json\",\n        Accept: \"application/json\",\n        Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\n      },\n    }).then(async (res) => {\n      let data = await res.json();\n\n      switch (res.status) {\n        case 200:\n          setLogged(!logged);\n          setUserData(data);\n          break;\n      }\n    });\n  }, []);\n\n  useEffect(() => {\n    fetch(\n      `${process.env.REACT_APP_SERVER_URL}/product/consult_similar_products?category=${productData.category}&id=${productId}`,\n      {\n        method: \"get\",\n      }\n    ).then(async (res) => {\n      let data = await res.json();\n\n      switch (res.status) {\n        case 200:\n          setSimilarProducts({ data: data });\n          break;\n      }\n    });\n  }, [productData]);\n\n  function addToCart() {\n    if (logged) {\n      fetch(`${process.env.REACT_APP_SERVER_URL}/cart/addToCart`, {\n        method: \"post\",\n        headers: {\n          \"Content-Type\": \"application/json\",\n          Authorization: `Bearer ${localStorage.getItem(\"access_token\")}`,\n        },\n        body: JSON.stringify({\n          productId: productId,\n          quantity: buyQuantity,\n        }),\n      }).then(async (res) => {\n        switch (res.status) {\n          case 200:\n            alert(\"Item adicionado ao carrinho!\", res);\n            break;\n        }\n      });\n    } else {\n      alert(\"Logue para usar o carrinho!\");\n    }\n  }\n\n  useEffect(() => {\n    cep(userData.cep).then((res) => {\n      setLocationInfo(res);\n    });\n  }, [userData]);\n\n  const setView = (event, index) => {\n    setCurrentImage(productData.image[index].original);\n  };\n\n  return (\n    <Container>\n      <PictureWrapper>\n        {productData.image != undefined ? (\n          <>\n            {isDesktop ? (\n              <>\n                {\" \"}\n                <Picture\n                  enlargedImageContainerClassName=\"large-image\"\n                  hoverDelayInMs={0}\n                  {...{\n                    smallImage: {\n                      src: currentImageUrl,\n                      width: 480,\n                      height: 480,\n                    },\n                    largeImage: {\n                      src: currentImageUrl,\n                      width: 1200,\n                      height: 1800,\n                    },\n                  }}\n                />\n                <ImageGallery\n                  items={productData.image}\n                  thumbnailClass=\"thumb\"\n                  onThumbnailClick={setView}\n                  showFullscreenButton={false}\n                  showPlayButton={false}\n                  showNav={false}\n                />\n              </>\n            ) : (\n              <MobilePicture src={productData.image[0].original} />\n            )}\n          </>\n        ) : (\n          <></>\n        )}\n      </PictureWrapper>\n      <ProductInfo>\n        <h2>{productData.name}</h2>\n        <Rating\n          name=\"half-rating\"\n          defaultValue={4.7}\n          size=\"medium\"\n          precision={0.5}\n          readOnly\n        />\n        <h1>$ {productData.price}</h1>\n        <h4>{`+ ${productData.portion}x $${(\n          productData.price / productData.portion\n        ).toFixed(2)}`}</h4>\n        <hr />\n        <ul>\n          <li>\n            <strong>Brand: </strong>\n            <span>{productData.brand}</span>\n          </li>\n          <li>\n            <strong>Category: </strong>\n            <span>{productData.category}</span>\n          </li>\n          <li>\n            <strong>Tags: </strong>\n            {productData.tags != undefined ? (\n              productData.tags.map((t, index) => {\n                return <span key={`${index}`}>{(index ? \", \" : \"\") + t}</span>;\n              })\n            ) : (\n              <></>\n            )}\n          </li>\n        </ul>\n      </ProductInfo>\n      <SellerInfoWrapper>\n        <SellerInfo>\n          <ul>\n            <li>\n              <h2>$ {productData.price}</h2>\n            </li>\n            <li>\n              {productData.deliveryPrice > 0 ? (\n                <DeliveryInfo>\n                  <RiTruckLine size={25} />\n                  <p>Shipping price: $ {productData.deliveryPrice}</p>\n                </DeliveryInfo>\n              ) : (\n                <DeliveryInfo>\n                  <RiTruckLine size={25} fill=\"var(--accent-color)\" />\n                  <p>\n                    Shipping <a>FREE</a>\n                  </p>\n                </DeliveryInfo>\n              )}\n            </li>\n            <li>\n              <DeliveryInfo>\n                <BsGeoAlt size={20} />\n                {logged ? (\n                  <Delivery>\n                    {userData.cep ? (\n                      <>\n                        <p>Deliver to {userData.name},</p>\n                        <p>\n                          <b>{locationInfo.city}</b> {locationInfo.cep}\n                        </p>\n                      </>\n                    ) : (\n                      <p>You need to register an address!</p>\n                    )}\n                  </Delivery>\n                ) : (\n                  <p>\n                    <Link to=\"/login\">Login or register!</Link>\n                  </p>\n                )}\n              </DeliveryInfo>\n            </li>\n            <li>\n              {productData.countInStock > 0 ? (\n                <h2>In Stock!</h2>\n              ) : (\n                <h2>Out of Stock.</h2>\n              )}\n            </li>\n            <li>\n              {productData.countInStock > 0 ? (\n                <>\n                  <strong>Quantity:</strong>\n                  <select\n                    onChange={(e) => setBuyQuantity(parseInt(e.target.value))}\n                    className=\"quantity\"\n                  >\n                    {Array.from(Array(productData.countInStock).keys()).map(\n                      (i) => {\n                        return i > 0 && i < 6 && <option value={i}>{i}</option>;\n                      }\n                    )}\n                  </select>\n                  <sub>({productData.countInStock} in stock!)</sub>\n                </>\n              ) : (\n                <></>\n              )}\n            </li>\n            <li>\n              <BuyBtns>\n                <BuyNowBtn type=\"button\" value=\"Buy Now\" />\n                <AddToCartBtn\n                  type=\"button\"\n                  value=\"Add to Cart\"\n                  onClick={() => addToCart()}\n                />\n              </BuyBtns>\n            </li>\n          </ul>\n        </SellerInfo>\n      </SellerInfoWrapper>\n      <Description>{productData.description}</Description>\n      <SimilarProducts>\n        <h3>Similar products you may like:</h3>\n        <ProductsList>\n          {similarProducts.data.slice(0, 4).map((p) => {\n            return (\n              <li>\n                <ProductCard\n                  key={p._id}\n                  redirect={() => (window.location.href = p._id)}\n                  imgsrc={p.image[0].original}\n                  title={p.name}\n                  brand={p.brand}\n                  price={`R$ ${p.price}`}\n                  portion={`${p.portion}x R$${(p.price / p.portion).toFixed(\n                    2\n                  )} sem juros`}\n                />\n              </li>\n            );\n          })}\n        </ProductsList>\n      </SimilarProducts>\n    </Container>\n  );\n}\n\nexport default DetailsPage;\n"]},"metadata":{},"sourceType":"module"}